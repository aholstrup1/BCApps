<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFramework>net8.0</TargetFramework>
    <CountryCode>us</CountryCode>
  </PropertyGroup>
  <ItemGroup Condition="'$(Configuration)' == 'App' or '$(Configuration)' == ''">
    <PackageReference Include="Microsoft.Application" />
    <PackageReference Include="Microsoft.PowerBIReports.e4e86220-cac0-4ec3-b853-7c2fa610399d" />
    <PackageReference Include="Microsoft.BaseApplication.us.437dbf0e-84ff-417a-965d-ed2bb9650972" />
    <PackageReference Include="Newtonsoft.Json" Version="4.0.1" />
  </ItemGroup>
  <ItemGroup Condition="'$(Configuration)' == 'Test' or '$(Configuration)' == ''">
    <PackageReference Include="Microsoft.Tests-TestLibraries.5d86850b-0d76-4eca-bd7b-951ad998e997" />
    <PackageReference Include="Microsoft.ContosoCoffeeDemoDataset.5a0b41e9-7a42-4123-d521-2265186cfb31" />
  </ItemGroup>
  <Target Name="CopyAppFiles" AfterTargets="Restore">
    <ItemGroup>
      <W1AppFiles Include="$(RestorePackagesPath)\**\*.app" Exclude="$(RestorePackagesPath)\.$(CountryCode).*\**\*.app" />
      <LocalAppFiles Include="$(RestorePackagesPath)\*.$(CountryCode).*\**\*.app" />
    </ItemGroup>
    <Copy SourceFiles="@(W1AppFiles)" DestinationFolder="$(RestorePackagesPath)" />
    <Copy SourceFiles="@(LocalAppFiles)" DestinationFolder="$(RestorePackagesPath)" />
  </Target>
</Project>